<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - POCOPAN</title>
    <style>
        :root {
            --naranja-primario: #FF6B00;
            --naranja-oscuro: #E55A00;
            --naranja-claro: #FF8C42;
            --naranja-fondo: #FFF5EB;
            --naranja-borde: #FFD4B8;
            --texto-oscuro: #333333;
            --texto-gris: #666666;
            --fondo-gris: #F5F5F5;
            --borde-gris: #E0E0E0;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--fondo-gris);
            color: var(--texto-oscuro);
            padding: 1rem;
            line-height: 1.5;
        }
        
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Header unificado */
        .header-unificado {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--naranja-primario);
        }
        
        .header-info h1 {
            color: var(--naranja-primario);
            margin-bottom: 0.3rem;
            font-size: 1.5rem;
        }
        
        .header-info p {
            color: var(--texto-gris);
            font-size: 0.9rem;
        }
        
        .header-terminal {
            background: var(--naranja-fondo);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--naranja-oscuro);
            font-weight: 500;
        }
        
        /* Tarjetas y layout */
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .card-header {
            padding: 0.8rem 1rem;
            font-weight: 600;
            border-bottom: 1px solid var(--borde-gris);
        }
        
        .card-body {
            padding: 1rem;
        }
        
        .grid {
            display: grid;
            gap: 1rem;
        }
        
        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        /* Botones */
        .btn {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: var(--naranja-primario);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--naranja-oscuro);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--naranja-primario);
            color: var(--naranja-primario);
        }
        
        .btn-outline:hover {
            background: var(--naranja-fondo);
        }
        
        /* √Åreas con scroll */
        .scroll-area {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }
        
        .scroll-area::-webkit-scrollbar {
            width: 6px;
        }
        
        .scroll-area::-webkit-scrollbar-track {
            background: var(--fondo-gris);
            border-radius: 3px;
        }
        
        .scroll-area::-webkit-scrollbar-thumb {
            background: var(--naranja-borde);
            border-radius: 3px;
        }
        
        .scroll-area::-webkit-scrollbar-thumb:hover {
            background: var(--naranja-claro);
        }
        
        /* Notificaciones */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 6px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .notification.info {
            background: #17a2b8;
        }
        
        .notification.success {
            background: #28a745;
        }
        
        .notification.error {
            background: #dc3545;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .grid-4, .grid-3 {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .grid-4, .grid-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header unificado -->
        <div class="header-unificado">
            <div class="header-info">
                <h1>POCOPAN</h1>
                <p>Punto de Venta ‚Ä¢ <strong>Dashboard</strong> ‚Ä¢ Terminal: POS1</p>
            </div>
            <div class="header-terminal">
                Actualizado: <span id="hora-actualizada">12:41</span>
            </div>
        </div>

        <!-- Informaci√≥n del dashboard -->
        <div class="card">
            <div class="card-header">
                Dashboard - Terminal POS1
            </div>
            <div class="card-body">
                <p>Estad√≠sticas en tiempo real ‚Ä¢ <span id="fecha-actual">martes, 25 de noviembre de 2025</span></p>
            </div>
        </div>

        <!-- Estad√≠sticas Principales -->
        <div class="grid grid-4 mb-2">
            <!-- Ventas Totales -->
            <div class="card">
                <div class="card-header" style="background: var(--naranja-primario); color: white; text-align: center; padding: 0.8rem;">
                    üè∑Ô∏è Ventas Totales
                </div>
                <div class="card-body" style="text-align: center; padding: 1.2rem 0.5rem;">
                    <h2 style="font-size: 2rem; color: var(--naranja-primario); margin: 0 0 0.5rem 0; line-height: 1;">
                        25,000
                    </h2>
                    <p style="color: var(--texto-gris); margin: 0; font-size: 0.9rem;">Transacciones</p>
                    <div style="margin-top: 0.8rem; padding: 0.5rem; background: var(--naranja-fondo); border-radius: 6px;">
                        <small style="color: var(--naranja-oscuro); font-size: 0.8rem; font-weight: 600;">
                            Hoy: 1
                        </small>
                    </div>
                </div>
            </div>

            <!-- Ingresos Totales -->
            <div class="card">
                <div class="card-header" style="background: #28a745; color: white; text-align: center; padding: 0.8rem;">
                    üí∞ Ingresos Totales
                </div>
                <div class="card-body" style="text-align: center; padding: 1.2rem 0.5rem;">
                    <h2 style="font-size: 1.5rem; color: #28a745; margin: 0 0 0.5rem 0; line-height: 1.2;">
                        $25,000.00
                    </h2>
                    <p style="color: var(--texto-gris); margin: 0; font-size: 0.9rem;">Acumulado</p>
                    <div style="margin-top: 0.8rem; padding: 0.5rem; background: #f0fff4; border-radius: 6px;">
                        <small style="color: #28a745; font-size: 0.8rem; font-weight: 600;" id="ingresos-hoy">
                            Hoy: $25,000.00
                        </small>
                    </div>
                </div>
            </div>

            <!-- Productos -->
            <div class="card">
                <div class="card-header" style="background: #17a2b8; color: white; text-align: center; padding: 0.8rem;">
                    üì¶ Productos
                </div>
                <div class="card-body" style="text-align: center; padding: 1.2rem 0.5rem;">
                    <h2 style="font-size: 2rem; color: #17a2b8; margin: 0 0 0.5rem 0; line-height: 1;">
                        2
                    </h2>
                    <p style="color: var(--texto-gris); margin: 0; font-size: 0.9rem;">En cat√°logo</p>
                    <div style="margin-top: 0.8rem; padding: 0.5rem; background: #f0fdff; border-radius: 6px;">
                        <small style="color: #17a2b8; font-size: 0.8rem; font-weight: 600;" id="productos-vendidos-hoy">
                            Vendidos hoy: 1
                        </small>
                    </div>
                </div>
            </div>

            <!-- Monto Hist√≥rico -->
            <div class="card">
                <div class="card-header" style="background: #6f42c1; color: white; text-align: center; padding: 0.8rem;">
                    üìà Monto Hist√≥rico
                </div>
                <div class="card-body" style="text-align: center; padding: 1.2rem 0.5rem;">
                    <h2 style="font-size: 1.5rem; color: #6f42c1; margin: 0 0 0.5rem 0; line-height: 1.2;" id="monto-historico">
                        $25,000.00
                    </h2>
                    <p style="color: var(--texto-gris); margin: 0; font-size: 0.9rem;">Total hist√≥rico</p>
                    <div style="margin-top: 0.8rem; padding: 0.5rem; background: #f8f5ff; border-radius: 6px;">
                        <small style="color: #6f42c1; font-size: 0.8rem; font-weight: 600;" id="promedio-diario">
                            Promedio: $25,000.00/d√≠a
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selector de Terminal (solo admin) -->
        <div class="card mb-2">
            <div class="card-header">
                üîç Seleccionar Terminal
            </div>
            <div class="card-body" style="padding: 1rem;">
                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                    <a href="#" class="btn btn-outline" style="padding: 8px 16px; font-size: 0.85rem;">
                        üìä Todas las Terminales
                    </a>
                    <a href="#" class="btn btn-primary" style="padding: 8px 16px; font-size: 0.85rem;">
                        üè™ POS 1
                    </a>
                    <a href="#" class="btn btn-outline" style="padding: 8px 16px; font-size: 0.85rem;">
                        üè™ POS 2
                    </a>
                    <a href="#" class="btn btn-outline" style="padding: 8px 16px; font-size: 0.85rem;">
                        üè™ POS 3
                    </a>
                </div>
            </div>
        </div>

        <!-- Secci√≥n Inferior - 2 Columnas -->
        <div class="main-layout">
            <!-- Columna Izquierda: Transacciones -->
            <div class="card" style="height: 100%;">
                <div class="card-header">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span>üìã Transacciones</span>
                        <span class="header-terminal" id="total-transacciones-hoy">Hoy: 1</span>
                    </div>
                </div>
                <div class="card-body">
                    <div style="margin-bottom: 1rem; text-align: center;">
                        <div style="display: inline-block; background: var(--naranja-fondo); padding: 0.8rem 1.5rem; border-radius: 8px;">
                            <div style="font-size: 1.2rem; font-weight: bold; color: var(--naranja-primario);" id="transacciones-hoy-count">
                                1
                            </div>
                            <div style="font-size: 0.8rem; color: var(--texto-gris);">Transacciones de Hoy</div>
                        </div>
                    </div>

                    <!-- Lista de Transacciones con Scroll Interno -->
                    <div class="scroll-area">
                        <div id="lista-transacciones-hoy">
                            <div style="border: 1px solid var(--naranja-borde); border-radius: 6px; padding: 0.8rem; margin-bottom: 0.6rem; background: white;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.4rem;">
                                    <div style="flex: 1;">
                                        <h4 style="color: var(--texto-oscuro); margin: 0 0 0.2rem 0; font-size: 0.9rem;">
                                            Cajas Verdes GRANIA ANIMALES DINOS
                                        </h4>
                                        <div style="display: flex; gap: 0.8rem; font-size: 0.75rem; color: var(--texto-gris);">
                                            <span><strong>Cliente:</strong> CLIENTE FG51-0301</span>
                                            <span><strong>Hora:</strong> 12:40</span>
                                        </div>
                                    </div>
                                    <div style="text-align: right; min-width: 100px;">
                                        <div style="font-size: 1rem; font-weight: bold; color: #28a745;">
                                            $25,000.00
                                        </div>
                                        <div style="font-size: 0.75rem; color: var(--texto-gris);">
                                            Cant: 1
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Transacciones adicionales de ejemplo -->
                            <div style="border: 1px solid var(--naranja-borde); border-radius: 6px; padding: 0.8rem; margin-bottom: 0.6rem; background: white;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.4rem;">
                                    <div style="flex: 1;">
                                        <h4 style="color: var(--texto-oscuro); margin: 0 0 0.2rem 0; font-size: 0.9rem;">
                                            Producto Ejemplo 2
                                        </h4>
                                        <div style="display: flex; gap: 0.8rem; font-size: 0.75rem; color: var(--texto-gris);">
                                            <span><strong>Cliente:</strong> CLIENTE FG51-0302</span>
                                            <span><strong>Hora:</strong> 11:30</span>
                                        </div>
                                    </div>
                                    <div style="text-align: right; min-width: 100px;">
                                        <div style="font-size: 1rem; font-weight: bold; color: #28a745;">
                                            $15,500.00
                                        </div>
                                        <div style="font-size: 0.75rem; color: var(--texto-gris);">
                                            Cant: 2
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- M√°s transacciones de ejemplo -->
                            <div style="border: 1px solid var(--naranja-borde); border-radius: 6px; padding: 0.8rem; margin-bottom: 0.6rem; background: white;">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.4rem;">
                                    <div style="flex: 1;">
                                        <h4 style="color: var(--texto-oscuro); margin: 0 0 0.2rem 0; font-size: 0.9rem;">
                                            Producto Ejemplo 3
                                        </h4>
                                        <div style="display: flex; gap: 0.8rem; font-size: 0.75rem; color: var(--texto-gris);">
                                            <span><strong>Cliente:</strong> CLIENTE FG51-0303</span>
                                            <span><strong>Hora:</strong> 10:15</span>
                                        </div>
                                    </div>
                                    <div style="text-align: right; min-width: 100px;">
                                        <div style="font-size: 1rem; font-weight: bold; color: #28a745;">
                                            $18,750.00
                                        </div>
                                        <div style="font-size: 0.75rem; color: var(--texto-gris);">
                                            Cant: 3
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna Derecha: Productos M√°s Vendidos -->
            <div class="card" style="height: 100%;">
                <div class="card-header">
                    üèÜ Productos M√°s Vendidos
                </div>
                <div class="card-body">
                    <!-- Lista de Productos con Scroll Interno -->
                    <div class="scroll-area">
                        <div id="lista-productos-vendidos">
                            <div style="display: grid; gap: 0.5rem;">
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem; background: var(--naranja-fondo); border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 0.8rem;">
                                        <span style="font-size: 1.2rem;">ü•á</span>
                                        <div>
                                            <div style="font-size: 0.9rem; font-weight: 500;">Cajas Verdes GRANIA ANIMALES DINOS</div>
                                            <div style="font-size: 0.75rem; color: var(--texto-gris);">1 unidades</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.9rem; font-weight: bold; color: var(--naranja-primario);">
                                            #1
                                        </div>
                                    </div>
                                </div>
                                <!-- Productos adicionales de ejemplo -->
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem; background: var(--naranja-fondo); border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 0.8rem;">
                                        <span style="font-size: 1.2rem;">ü•à</span>
                                        <div>
                                            <div style="font-size: 0.9rem; font-weight: 500;">Producto Ejemplo 2</div>
                                            <div style="font-size: 0.75rem; color: var(--texto-gris);">5 unidades</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.9rem; font-weight: bold; color: var(--naranja-primario);">
                                            #2
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem; background: var(--naranja-fondo); border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 0.8rem;">
                                        <span style="font-size: 1.2rem;">ü•â</span>
                                        <div>
                                            <div style="font-size: 0.9rem; font-weight: 500;">Producto Ejemplo 3</div>
                                            <div style="font-size: 0.75rem; color: var(--texto-gris);">3 unidades</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.9rem; font-weight: bold; color: var(--naranja-primario);">
                                            #3
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem; background: var(--naranja-fondo); border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 0.8rem;">
                                        <span style="font-size: 1.2rem;">üèÖ</span>
                                        <div>
                                            <div style="font-size: 0.9rem; font-weight: 500;">Producto Ejemplo 4</div>
                                            <div style="font-size: 0.75rem; color: var(--texto-gris);">2 unidades</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.9rem; font-weight: bold; color: var(--naranja-primario);">
                                            #4
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.8rem; background: var(--naranja-fondo); border-radius: 8px;">
                                    <div style="display: flex; align-items: center; gap: 0.8rem;">
                                        <span style="font-size: 1.2rem;">üèÖ</span>
                                        <div>
                                            <div style="font-size: 0.9rem; font-weight: 500;">Producto Ejemplo 5</div>
                                            <div style="font-size: 0.75rem; color: var(--texto-gris);">1 unidades</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-size: 0.9rem; font-weight: bold; color: var(--naranja-primario);">
                                            #5
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acciones R√°pidas (movidas al final) -->
        <div class="card mb-2">
            <div class="card-header" style="background: var(--naranja-primario); color: white;">
                üöÄ Actualizar Datos
            </div>
            <div class="card-body">
                <div style="display: flex; gap: 0.8rem; flex-wrap: wrap; align-items: center;">
                    <button onclick="cargarEstadisticasAvanzadas()" class="btn btn-primary">
                        üîÑ Actualizar Datos
                    </button>
                    <button onclick="descargarExcel()" class="btn btn-success">
                        üìä Descargar Excel de Ventas
                    </button>
                    <span style="color: var(--texto-gris); font-size: 0.8rem;">
                        Actualizado: <span id="hora-actualizacion">12:41</span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Notificaciones -->
    <div id="notification" class="notification"></div>

    <script>
        // Actualizar fecha y hora actual
        function actualizarFechaHora() {
            const ahora = new Date();
            document.getElementById('fecha-actual').textContent = ahora.toLocaleDateString('es-ES', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const hora = ahora.toLocaleTimeString('es-ES', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            document.getElementById('hora-actualizada').textContent = hora;
            document.getElementById('hora-actualizacion').textContent = hora;
        }
        
        // Mostrar notificaci√≥n
        function showNotification(mensaje, tipo) {
            const notification = document.getElementById('notification');
            notification.textContent = mensaje;
            notification.className = `notification ${tipo} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Funciones de ejemplo para los botones
        function cargarEstadisticasAvanzadas() {
            showNotification('üîÑ Actualizando datos...', 'info');
            
            // Simular actualizaci√≥n
            setTimeout(() => {
                showNotification('‚úÖ Datos actualizados', 'success');
                actualizarFechaHora();
            }, 1000);
        }
        
        function descargarExcel() {
            showNotification('üìä Generando archivo Excel...', 'info');
            
            // Simular descarga
            setTimeout(() => {
                showNotification('‚úÖ Excel descargado correctamente', 'success');
            }, 1500);
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            actualizarFechaHora();
            
            // Actualizar cada minuto
            setInterval(actualizarFechaHora, 60000);
        });
    </script>
</body>
</html>